# Skillnote SDP分析ダッシュボード

製造業向けのスキル・データ・プラットフォーム（SDP）分析ダッシュボードです。
グローバル拠点のスキルギャップを可視化し、データドリブンな意思決定を支援します。

## 🎯 主要機能

### 📊 エグゼクティブサマリー
- 年間推定損失額の算出（ベンチマーク拠点との比較）
- 教育投資のROI・投資回収期間の自動計算
- 拠点別優先順位マトリクス（最優先・優先・中期対応）

### 🔬 根本原因分析
- スキルカテゴリ別ギャップ分析（影響度加味）
- 習熟度分布の可視化（ベンチマークとの比較）
- ボトルネックチーム・シフトの特定

### 📋 アクションプラン
- 4つの施策パッケージ（即効・中期・構造・リスク対応）
- コスト・期間・KPIの明示
- 投資対効果シミュレーション

### 📈 継続モニタリング
- KPIトレンド（生産効率・スキルスコア・品質）
- 健全性スコア（0-100）の自動算出
- 早期警告アラート機能

### 📁 生データ閲覧
- 従業員スキルデータの参照・フィルタリング
- 日次生産データの参照・フィルタリング
- CSVダウンロード機能

## 📁 プロジェクト構造

```
sdp-analysis-dashboard/
├── app.py                      # メインアプリケーション
├── data_loader.py              # データ生成モジュール
├── utils/
│   ├── __init__.py
│   └── styles.py               # カスタムCSSスタイル
├── views/
│   ├── __init__.py
│   ├── welcome.py              # ウェルカム画面
│   ├── executive_summary.py    # エグゼクティブサマリー
│   ├── root_cause_analysis.py  # 根本原因分析
│   ├── action_plan.py          # アクションプラン
│   ├── monitoring.py           # 継続モニタリング
│   └── raw_data.py             # 生データ閲覧
└── README.md                   # このファイル
```

## 🚀 セットアップ方法

### 1. 必要なライブラリのインストール

```bash
pip install streamlit pandas numpy plotly
```

### 2. アプリケーションの起動

```bash
streamlit run app.py
```

### 3. ブラウザでアクセス

ブラウザで以下のURLにアクセス:
```
http://localhost:8501
```

## 💡 使い方

### ステップ1: エグゼクティブサマリーで全体像を把握
- 左サイドバーから「📊 エグゼクティブサマリー」を選択
- 年間損失額、ROI、投資回収期間を確認
- 拠点別優先順位マトリクスで最優先拠点を特定

### ステップ2: 根本原因分析で課題を深掘り
- サイドバーで分析対象拠点を選択
- 「🔬 根本原因分析」メニューをクリック
- スキルギャップの詳細とボトルネックを確認

### ステップ3: アクションプランで施策を決定
- 「📋 アクションプラン」メニューをクリック
- 4つの施策パッケージを確認
- 投資対効果シミュレーションで承認判断

### ステップ4: モニタリングで効果を追跡
- 「📈 継続モニタリング」メニューをクリック
- KPIトレンドと健全性スコアを確認
- 早期警告アラートに対応

## 🎨 カスタマイズ

### スタイルの変更
`utils/styles.py`でカスタムCSSを編集できます。

```python
# メインカラーの変更例
background-color: #2e7d32;  # 緑系
background-color: #1976d2;  # 青系
```

### データソースの変更
`data_loader.py`を編集して、実際のデータベースやCSVファイルからデータを読み込むように変更できます。

```python
@st.cache_data
def load_data_from_db():
    # データベース接続処理
    # ...
    return df_skill, df_daily_prod, skills_info, skill_names
```

### 新しい分析機能の追加
1. `views/`ディレクトリに新しいPythonファイルを作成
2. `app.py`でインポート
3. サイドバーメニューに追加

## 📊 データ構造

### 従業員スキルデータ（df_skill）
| 列名 | 型 | 説明 |
|------|-----|------|
| 拠点 | str | 製造拠点 |
| 組織・チーム | str | 所属チーム |
| シフト | str | 勤務シフト |
| 従業員ID | str | 従業員識別子 |
| 評価日 | date | 評価日 |
| 成形技術 | int | スキルレベル (1-5) |
| NCプログラム | int | スキルレベル (1-5) |
| 品質検査 | int | スキルレベル (1-5) |
| 設備保全 | int | スキルレベル (1-5) |
| 安全管理 | int | スキルレベル (1-5) |
| 総合スキルスコア | float | 平均スキルスコア |
| 生産効率 (%) | float | 生産効率 |
| 品質不良率 (%) | float | 不良率 |

### 日次生産データ（df_daily_prod）
| 列名 | 型 | 説明 |
|------|-----|------|
| 日付 | date | 生産日 |
| 拠点 | str | 製造拠点 |
| シフト | str | 勤務シフト |
| 日次生産量 (Unit) | float | 生産量 |
| 生産効率 (%) | float | 生産効率 |
| 品質不良率 (%) | float | 不良率 |
| 平均スキル予測値 | float | スキルスコア |

## 🔧 トラブルシューティング

### モジュールが見つからないエラー
```bash
ModuleNotFoundError: No module named 'plotly'
```
→ `pip install plotly`を実行してください。

### ポートが使用中のエラー
```bash
OSError: [Errno 48] Address already in use
```
→ `streamlit run app.py --server.port 8502`で別のポートを指定してください。

### データが表示されない
- `data_loader.py`が正しく配置されているか確認
- ブラウザのキャッシュをクリア
- Streamlitのキャッシュをクリア: `streamlit cache clear`

## 📝 ライセンス

This project is proprietary software.

## 🤝 サポート

問題が発生した場合は、開発チームにお問い合わせください。